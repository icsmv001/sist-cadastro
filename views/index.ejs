<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/bootstrap/css/bootstrap.min.css'/>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script type="text/javascript" src="/javascripts/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="/javascripts/validacao.js"></script>
    <script type="text/javascript" src="/javascripts/ajax.js"></script>
    <meta name="viewport" content="width=device-width,initial-scale-1, user-scalable=no">
  </head>
  <body>
    <h1>Cadastro com dados Backend-v01</h1><br>
    <a href="/" class="btn btn-default botao-home " >Home</a><br>
                         
                
  <fieldset id="formCadastro">
    <legend>Cadastro de pessoas</legend>
    <form action="/cadastrar-pessoa" method="POST" onsubmit="return validacao()">
        <div>
                   <label for="nome">Nome: </label>
                   <input type="text" class="form-control" name="nome" id="nome" />
               </div>

               <div>

                   <label for="sobrenome">Sobrenome: </label>
                   <input type="text"  class="form-control" name="sobrenome" id="sobrenome" />
               </div>

               <div>

                <label for="cpf">Cpf: </label>
                   <input type="text"  class="form-control"  name="cpf" id="cpf" />
               </div>

                <div>

                  <label for="telefone">Telefone: </label>
                   <input type="text"  class="form-control"  name="telefone" id="telefone" />
               </div>

               <div>
                  <label for="endereco">Endereço: </label>
                   <input type="text"  class="form-control" name="endereco"  id="endereco" />
               </div>
               <div>
                  <br>
                  <input type="button" class="btn-primary" value="Carregar estados" onclick="    carregarEstados()" />
               <div>

               <div>
                  <label for="estado">Estado: </label>
                  <select id="estado" onchange="carregarCidade()" class="form-control" nome="estado"></select>
               </div>
          
               <div>
                   <label for="cidade">Cidade: </label>
                   <select id="cidade" class="form-control" nome="cidade"></select>               
              </div>






                <div>
                  <hr>
                   <input type="submit"  class ="btn  btn-success" value="Cadastrar" />
               </div>


           </form>
       </fieldset>

       <!-- inicio de html de pesquisa de dados -->
  <fieldset id="formCadastro">
    <legend>Buscar</legend>
    <form action="/pesquisar" method="GET">
          <label for="nome">Nome: </label>
          <div class ="botoes-pesquisar">
              <input type="text"   class="form-control"  name="nome" id="nome" />
              <input type="submit" class ="btn  btn-primary" value="Buscar"   />
          </div>
         </form>
       </fieldset>

       <!-- final de html de pesquisa de dados  -->
     <fieldset>
    <legend>Pessoas cadastradas</legend>
    <div class="tabela-responsiva">
    <table border="1" id="registros" class="table table-striped table-bordered table-hover" >  
      <!-- class="table table-striprd table-borderead" --> 
      <thead>  
      <tr>
          <td>Nome</td>
          <td>Sobrenome</td>
          <td>CPF</td>
          <td>Telefone</td>
          <td>Endereço</td>
          <td></td>
          <td></td>
      </tr>
      </thead> 
      <% for(i=0; i<pessoas.length; i++) { %>
        <tr>
          <td><%= pessoas[i].nome %></td>
          <td><%= pessoas[i].sobrenome %></td>
          <td><%= pessoas[i].cpf %></td>
          <td><%= pessoas[i].telefone %></td>
          <td><%= pessoas[i].endereco %></td>

          <td><a href="/alterar?cpf=<%= pessoas[i].cpf %>"                class ="btn  btn-warning">alterar</a></td>
          <td><a href="#" onclick="excluirDados('<%= pessoas[i].cpf %>')" class ="btn  btn-danger">excluir</a></td>

        </tr>
      <% } %>
    </table>
    <div>
  </fieldset>
  </body>
</html>